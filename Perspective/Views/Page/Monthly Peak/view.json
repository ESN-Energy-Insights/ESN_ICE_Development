{
  "custom": {
    "settings": {},
    "tags": {
      "other-power": [
        {
          "aggregate": "Average",
          "alias": "other-power"
        }
      ],
      "power": [
        {
          "aggregate": "Average",
          "alias": "power"
        }
      ],
      "power-factor": [
        {
          "aggregate": "LastValue",
          "alias": "power-factor"
        }
      ]
    },
    "test": {
      "$": [
        "ts",
        192,
        1730818629625
      ],
      "$ts": 1706763600000
    }
  },
  "events": {
    "system": {
      "onStartup": {
        "config": {
          "script": "\tself.getChild(\"root\").getChild(\"Monthly Peak Container\").getChild(\"Charts Container\").getChild(\"Monthly Peak Chart Container\").getChild(\"FlexContainer\").getChild(\"FlexContainer_1\").getChild(\"BillingMonth\").props.value \u003d system.date.getMonth(system.date.now())"
        },
        "scope": "G",
        "type": "script"
      }
    }
  },
  "params": {
    "tagPath": "[ESN]Opto22/EdgeNodes/EMK1-0001/Loads/Compressor2"
  },
  "propConfig": {
    "custom.MonthRow": {
      "binding": {
        "config": {
          "expression": "{/root/Monthly Peak Container/Charts Container/Monthly Peak Chart Container/FlexContainer/FlexContainer_1/BillingMonth.props.value}-1"
        },
        "type": "expr"
      },
      "persistent": false
    },
    "custom.RefMonthRow": {
      "binding": {
        "config": {
          "expression": "{/root/Monthly Peak Container/Charts Container/Monthly Peak Chart Container/FlexContainer/FlexContainer_1/BillingMonth.props.value}-1"
        },
        "type": "expr"
      },
      "persistent": false
    },
    "custom.companyTagPath": {
      "binding": {
        "config": {
          "expression": "split({view.params.tagPath},\"/\")[0,0]+\"/Company\""
        },
        "type": "expr"
      },
      "persistent": false
    },
    "custom.loads": {
      "binding": {
        "config": {
          "path": "session.custom.companyID"
        },
        "transforms": [
          {
            "code": "\tvalue \u003d \u0027Opto22\u0027\n\tvalue \u003d self.custom.org\n\tpath \u003d \"[ESN]\" + value + \"/EdgeNodes\"\n\tresults \u003d system.tag.browse(path)\n\n\tfinal \u003d []\n\tfor node in results:\n\t\tif node[\"hasChildren\"]:\n\t\t\tnode[\"energyLoads\"] \u003d [system.tag.browse(str(node[\"fullPath\"]) + \"/Loads\")]\n\t\t\n\t\tfinal.append(node)\n\treturn final",
            "type": "script"
          }
        ],
        "type": "property"
      },
      "persistent": false
    },
    "custom.org": {
      "binding": {
        "config": {
          "path": "session.custom.companyID"
        },
        "type": "property"
      },
      "persistent": false
    },
    "custom.settings": {
      "binding": {
        "config": {
          "path": "session.custom.monthly-peak-settings"
        },
        "enabled": false,
        "type": "property"
      },
      "persistent": true
    },
    "custom.settings.expected-peak-watts": {
      "binding": {
        "config": {
          "fallbackDelay": 2.5,
          "mode": "expression",
          "tagPath": "{view.custom.companyTagPath}+\"/EnergyBill/Month\""
        },
        "transforms": [
          {
            "code": "\texppeak\u003dvalue.getValueAt(self.custom.RefMonthRow,3)\n\treturn exppeak",
            "type": "script"
          }
        ],
        "type": "tag"
      }
    },
    "custom.settings.power-factor-limit": {
      "binding": {
        "config": {
          "expression": "{/root/Monthly Peak Container/Monthly Peak Inputs Container/Select EMU Container/Main Power Device DropDown.props.value} + \"/DashboardSettings/HighLowThresholds/PowerFactor/Low\""
        },
        "type": "expr"
      }
    },
    "custom.settings.power-limit-watts": {
      "binding": {
        "config": {
          "expression": "{/root/Monthly Peak Container/Monthly Peak Inputs Container/Select EMU Container/Main Power Device DropDown.props.value} + \"/DashboardSettings/HighLowThresholds/Power/High\""
        },
        "type": "expr"
      }
    },
    "custom.settings.ref-time": {
      "binding": {
        "config": {
          "fallbackDelay": 2.5,
          "mode": "expression",
          "tagPath": "{view.custom.companyTagPath}+\"/EnergyBill/Month\""
        },
        "transforms": [
          {
            "code": "\tmonth\u003dvalue.getValueAt(self.custom.RefMonthRow,1)\n\tday\u003dvalue.getValueAt(self.custom.RefMonthRow,2)\n\tcurryear \u003d system.date.getYear(system.date.now())\n\tcurrmonth \u003d system.date.getMonth(system.date.now())\n\tyear \u003d curryear-1\n\tif month \u003c\u003d currmonth:\n\t\tyear \u003d curryear\n\toutput \u003d system.date.getDate(year, month, day)\n\treturn output",
            "type": "script"
          }
        ],
        "type": "tag"
      }
    },
    "custom.settings.start-time": {
      "binding": {
        "config": {
          "fallbackDelay": 2.5,
          "mode": "expression",
          "tagPath": "{view.custom.companyTagPath}+\"/EnergyBill/Month\""
        },
        "transforms": [
          {
            "code": "\tmonth\u003dvalue.getValueAt(self.custom.MonthRow,1)\n\tday\u003dvalue.getValueAt(self.custom.MonthRow,2)\n\tcurryear \u003d system.date.getYear(system.date.now())\n\tcurrmonth \u003d system.date.getMonth(system.date.now())\n\tyear \u003d curryear-1\n\tif month \u003c\u003d currmonth:\n\t\tyear \u003d curryear\n\toutput \u003d system.date.getDate(year, month, day)\n\treturn output",
            "type": "script"
          }
        ],
        "type": "tag"
      }
    },
    "custom.tags": {
      "persistent": true
    },
    "custom.tags.other-power[0].path": {
      "binding": {
        "config": {
          "expression": "{/root/Monthly Peak Container/Monthly Peak Inputs Container/Select EMU Container/Main Power Device DropDown_0.props.value} + \"/DashboardSettings/IntervalData/Power15minAverage\""
        },
        "type": "expr"
      }
    },
    "custom.tags.power-factor[0].path": {
      "binding": {
        "config": {
          "expression": "{/root/Monthly Peak Container/Monthly Peak Inputs Container/Select EMU Container/Main Power Device DropDown.props.value} + \"/Data/Totals/Power/Total_PowerFactor\""
        },
        "type": "expr"
      }
    },
    "custom.tags.power[0].path": {
      "binding": {
        "config": {
          "expression": "{/root/Monthly Peak Container/Monthly Peak Inputs Container/Select EMU Container/Main Power Device DropDown.props.value} + \"/DashboardSettings/IntervalData/Power15minAverage\""
        },
        "type": "expr"
      }
    },
    "custom.test": {
      "binding": {
        "config": {
          "fallbackDelay": 2.5,
          "mode": "expression",
          "tagPath": "{view.custom.companyTagPath}+\"/EnergyBill/Month\""
        },
        "transforms": [
          {
            "code": "\tmonth\u003dvalue.getValueAt(0,1)\n\tday\u003dvalue.getValueAt(0,2)\n\tcurryear \u003d system.date.getYear(system.date.now())\n\tcurrmonth \u003d system.date.getMonth(system.date.now())\n\tyear \u003d curryear-1\n\tif month \u003c\u003d currmonth:\n\t\tyear \u003d curryear\n\toutput \u003d system.date.getDate(year, month, day)\n\treturn output",
            "type": "script"
          }
        ],
        "type": "tag"
      },
      "persistent": true
    },
    "params.tagPath": {
      "paramDirection": "input",
      "persistent": true
    }
  },
  "props": {
    "defaultSize": {
      "height": 735,
      "width": 1323
    }
  },
  "root": {
    "children": [
      {
        "children": [
          {
            "meta": {
              "name": "Title Label"
            },
            "position": {
              "basis": "168px"
            },
            "props": {
              "style": {
                "classes": "Title/Text",
                "marginLeft": "30px"
              },
              "text": "Monthly Peak"
            },
            "type": "ia.display.label"
          },
          {
            "events": {
              "component": {
                "onActionPerformed": {
                  "config": {
                    "draggable": true,
                    "id": "35SPkugW",
                    "modal": true,
                    "overlayDismiss": false,
                    "resizable": true,
                    "showCloseIcon": true,
                    "title": "Monthly Peak Settings",
                    "type": "open",
                    "viewParams": {
                      "tagpath": ""
                    },
                    "viewPath": "Popups/CompanySettings",
                    "viewportBound": false
                  },
                  "scope": "C",
                  "type": "popup"
                }
              }
            },
            "meta": {
              "name": "Settings Button"
            },
            "position": {
              "basis": "150px"
            },
            "props": {
              "image": {
                "icon": {
                  "path": "material/settings"
                },
                "style": {
                  "backgroundColor": "#D5D5D5"
                }
              },
              "style": {
                "backgroundColor": "var(--neutral-30)",
                "borderStyle": "none",
                "color": "var(--neutral-90)",
                "fontFamily": "Verdana",
                "marginLeft": "30px"
              },
              "text": "Settings"
            },
            "type": "ia.input.button"
          }
        ],
        "meta": {
          "name": "Title container"
        },
        "position": {
          "basis": "40px",
          "shrink": 0
        },
        "props": {
          "justify": "space-between",
          "style": {
            "classes": "Title/Title"
          }
        },
        "type": "ia.container.flex"
      },
      {
        "children": [
          {
            "children": [
              {
                "children": [
                  {
                    "meta": {
                      "name": "Select EMU Label"
                    },
                    "position": {
                      "basis": "20px"
                    },
                    "props": {
                      "style": {
                        "classes": "All_Text/Base_Text",
                        "fontWeight": "bold",
                        "marginLeft": "15px",
                        "marginTop": "5px"
                      },
                      "text": "Select Power Devices"
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "meta": {
                      "name": "Main Device Label"
                    },
                    "position": {
                      "basis": "20px"
                    },
                    "props": {
                      "style": {
                        "classes": "All_Text/Base_Text",
                        "fontSize": "12px",
                        "marginLeft": "15px"
                      },
                      "text": "Select Main Power Meter Device"
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "meta": {
                      "name": "Main Power Device DropDown"
                    },
                    "position": {
                      "basis": "36px",
                      "grow": 1
                    },
                    "propConfig": {
                      "props.options": {
                        "binding": {
                          "config": {
                            "path": "view.custom.loads"
                          },
                          "transforms": [
                            {
                              "code": "\tret \u003d []\n\t\n\tfor edgeNode in value:\n\t\tfor load in edgeNode[\"energyLoads\"][0]:\n\n\t\t\tret.append({\n\t\t\t\t\u0027value\u0027: load[\"fullPath\"], \n\t\t\t\t\u0027label\u0027: edgeNode[\"name\"] + \" - \" + load[\"name\"],\n\t\t\t\t\u0027isDisabled\u0027: False\n\t\t\t})\n\t\n\treturn ret",
                              "type": "script"
                            }
                          ],
                          "type": "property"
                        },
                        "persistent": false
                      },
                      "props.value": {
                        "binding": {
                          "config": {
                            "fallbackDelay": 2.5,
                            "mode": "indirect",
                            "references": {
                              "companyTagPath": "{view.custom.companyTagPath}"
                            },
                            "tagPath": "{companyTagPath}/EnergyBill/MeterDataSource_String"
                          },
                          "enabled": false,
                          "type": "tag"
                        }
                      }
                    },
                    "props": {
                      "placeholder": {
                        "text": "Select Device"
                      },
                      "style": {
                        "classes": "Backgrounds/inputboxes",
                        "marginBottom": "5px",
                        "marginLeft": "15px",
                        "marginRight": "15px"
                      },
                      "value": "[ESN]Opto22/EdgeNodes/EMK1-0001/Loads/ServiceMeter"
                    },
                    "type": "ia.input.dropdown"
                  },
                  {
                    "meta": {
                      "name": "Other Device Label"
                    },
                    "position": {
                      "basis": "20px"
                    },
                    "props": {
                      "style": {
                        "classes": "All_Text/Base_Text",
                        "fontSize": "12px"
                      },
                      "text": "Show Other Power Meter Device",
                      "textStyle": {
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "events": {
                      "system": {
                        "onStartup": {
                          "config": {
                            "script": "\ttags \u003d Utils.getTagParams()\n\toptions \u003d []\n\t\n\tfor i in range(len(tags)):\n\t\toptions.append({\n\t\t\t\u0027value\u0027: i, \n\t\t\t\u0027label\u0027: tags[i][\u0027Asset Name\u0027],\n\t\t\t\u0027isDisabled\u0027: False\n\t\t})\n\t\n\tself.props.options \u003d  options "
                          },
                          "scope": "G",
                          "type": "script"
                        }
                      }
                    },
                    "meta": {
                      "name": "Main Power Device DropDown_0"
                    },
                    "position": {
                      "basis": "36px",
                      "grow": 1
                    },
                    "propConfig": {
                      "props.options": {
                        "binding": {
                          "config": {
                            "path": "view.custom.loads"
                          },
                          "transforms": [
                            {
                              "code": "\tret \u003d []\n\t\n\tfor edgeNode in value:\n\t\tfor load in edgeNode[\"energyLoads\"][0]:\n\n\t\t\tret.append({\n\t\t\t\t\u0027value\u0027: load[\"fullPath\"], \n\t\t\t\t\u0027label\u0027: edgeNode[\"name\"] + \" - \" + load[\"name\"],\n\t\t\t\t\u0027isDisabled\u0027: False\n\t\t\t})\n\t\n\treturn ret",
                              "type": "script"
                            }
                          ],
                          "type": "property"
                        }
                      },
                      "props.value": {
                        "persistent": false
                      }
                    },
                    "props": {
                      "placeholder": {
                        "text": "Select Device"
                      },
                      "showClearIcon": true,
                      "style": {
                        "classes": "Backgrounds/inputboxes",
                        "marginBottom": "5px",
                        "marginLeft": "15px",
                        "marginRight": "15px"
                      }
                    },
                    "type": "ia.input.dropdown"
                  },
                  {
                    "meta": {
                      "name": "MainPower"
                    },
                    "position": {
                      "basis": "36px",
                      "grow": 1
                    },
                    "propConfig": {
                      "props.options": {
                        "persistent": false
                      }
                    },
                    "props": {
                      "placeholder": {
                        "text": "Select Device"
                      },
                      "showClearIcon": true,
                      "style": {
                        "classes": "Backgrounds/inputboxes",
                        "marginBottom": "5px",
                        "marginLeft": "15px",
                        "marginRight": "15px"
                      },
                      "value": null
                    },
                    "type": "ia.input.dropdown"
                  }
                ],
                "meta": {
                  "name": "Select EMU Container"
                },
                "position": {
                  "basis": "155px"
                },
                "props": {
                  "direction": "column",
                  "style": {
                    "backgroundColor": "#FFFFFF",
                    "borderBottomLeftRadius": "15px",
                    "borderBottomRightRadius": "15px",
                    "borderStyle": "none",
                    "borderTopLeftRadius": "15px",
                    "borderTopRightRadius": "15px",
                    "marginBottom": 10,
                    "marginLeft": "20px",
                    "marginTop": "20px"
                  }
                },
                "type": "ia.container.flex"
              },
              {
                "children": [
                  {
                    "meta": {
                      "name": "High Power Alert Label"
                    },
                    "position": {
                      "basis": "55px"
                    },
                    "props": {
                      "style": {
                        "classes": "All_Text/Base_Text",
                        "fontWeight": "bold",
                        "marginTop": "5px"
                      },
                      "text": "High Power Alert",
                      "textStyle": {
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "meta": {
                      "name": "High Power Alert Description Label"
                    },
                    "position": {
                      "basis": "40px"
                    },
                    "props": {
                      "style": {
                        "classes": "All_Text/Base_Text",
                        "fontSize": "12px"
                      },
                      "text": "Power Above Threshold",
                      "textStyle": {
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "meta": {
                      "name": "High Power Alert"
                    },
                    "position": {
                      "basis": "80px"
                    },
                    "propConfig": {
                      "custom.HighPowerTagValue": {
                        "binding": {
                          "config": {
                            "fallbackDelay": 2.5,
                            "mode": "indirect",
                            "references": {
                              "tagPath": "{view.params.tagPath}"
                            },
                            "tagPath": "{tagPath}/DashboardSettings/HighLowThresholds/Power/High"
                          },
                          "overlayOptOut": true,
                          "type": "tag"
                        }
                      },
                      "custom.path": {
                        "binding": {
                          "config": {
                            "path": "view.params.tagPath"
                          },
                          "overlayOptOut": true,
                          "type": "property"
                        }
                      },
                      "props.style.backgroundColor": {
                        "binding": {
                          "config": {
                            "expression": "tag({view.custom.tags.power[0].path}) \u003e\u003d {this.custom.HighPowerTagValue}"
                          },
                          "overlayOptOut": true,
                          "transforms": [
                            {
                              "fallback": "#D5D5D5",
                              "inputType": "scalar",
                              "mappings": [
                                {
                                  "input": false,
                                  "output": "#FFFFFF"
                                },
                                {
                                  "input": true,
                                  "output": "#C80909"
                                }
                              ],
                              "outputType": "color",
                              "type": "map"
                            }
                          ],
                          "type": "expr"
                        }
                      },
                      "props.text": {
                        "binding": {
                          "config": {
                            "expression": "tag({view.custom.tags.power[0].path}) \u003e\u003d {this.custom.HighPowerTagValue}"
                          },
                          "overlayOptOut": true,
                          "transforms": [
                            {
                              "fallback": "",
                              "inputType": "scalar",
                              "mappings": [
                                {
                                  "input": false,
                                  "output": "OK"
                                },
                                {
                                  "input": true,
                                  "output": "Alert"
                                }
                              ],
                              "outputType": "scalar",
                              "type": "map"
                            }
                          ],
                          "type": "expr"
                        }
                      }
                    },
                    "props": {
                      "textStyle": {
                        "color": "#D3D3D3",
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "meta": {
                      "name": "Power Factor Alert Label"
                    },
                    "position": {
                      "basis": "55px"
                    },
                    "props": {
                      "style": {
                        "classes": "All_Text/Base_Text",
                        "fontWeight": "bold",
                        "marginTop": "5px"
                      },
                      "text": "Power Factor Alert",
                      "textStyle": {
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "meta": {
                      "name": "Power Factor Alert Description Label"
                    },
                    "position": {
                      "basis": "40px"
                    },
                    "props": {
                      "style": {
                        "classes": "All_Text/Base_Text",
                        "fontSize": "12px"
                      },
                      "text": "Power Factor Below Threshold",
                      "textStyle": {
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "meta": {
                      "name": "Power Factor Alert"
                    },
                    "position": {
                      "basis": "80px"
                    },
                    "propConfig": {
                      "custom.PowerFactorLow": {
                        "binding": {
                          "config": {
                            "fallbackDelay": 2.5,
                            "mode": "indirect",
                            "references": {
                              "tagPath": "{view.params.tagPath}"
                            },
                            "tagPath": "{tagPath}/DashboardSettings/HighLowThresholds/PowerFactor/Low"
                          },
                          "overlayOptOut": true,
                          "type": "tag"
                        }
                      },
                      "props.style.backgroundColor": {
                        "binding": {
                          "config": {
                            "expression": "tag({view.custom.tags.power-factor[0].path}) \u003c\u003d {this.custom.PowerFactorLow}"
                          },
                          "overlayOptOut": true,
                          "transforms": [
                            {
                              "fallback": "#D5D5D5",
                              "inputType": "scalar",
                              "mappings": [
                                {
                                  "input": false,
                                  "output": "#FFFFFF"
                                },
                                {
                                  "input": true,
                                  "output": "#C80909"
                                }
                              ],
                              "outputType": "color",
                              "type": "map"
                            }
                          ],
                          "type": "expr"
                        }
                      },
                      "props.text": {
                        "binding": {
                          "config": {
                            "expression": "tag({view.custom.tags.power-factor[0].path}) \u003c\u003d {this.custom.PowerFactorLow}"
                          },
                          "overlayOptOut": true,
                          "transforms": [
                            {
                              "fallback": "",
                              "inputType": "scalar",
                              "mappings": [
                                {
                                  "input": false,
                                  "output": "OK"
                                },
                                {
                                  "input": true,
                                  "output": "Alert"
                                }
                              ],
                              "outputType": "scalar",
                              "type": "map"
                            }
                          ],
                          "type": "expr"
                        }
                      }
                    },
                    "props": {
                      "textStyle": {
                        "color": "#D3D3D3",
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  }
                ],
                "meta": {
                  "name": "Alerts Container"
                },
                "position": {
                  "basis": "150px"
                },
                "propConfig": {
                  "position.display": {
                    "binding": {
                      "config": {
                        "expression": "{../Select EMU Container/Main Power Device DropDown.props.value} !\u003d null \u0026\u0026\r\n{../Select EMU Container/Main Power Device DropDown_0.props.value} !\u003d null  "
                      },
                      "type": "expr"
                    }
                  }
                },
                "props": {
                  "direction": "column",
                  "style": {
                    "backgroundColor": "#FFFFFF",
                    "borderBottomLeftRadius": "15px",
                    "borderBottomRightRadius": "15px",
                    "borderStyle": "none",
                    "borderTopLeftRadius": "15px",
                    "borderTopRightRadius": "15px",
                    "marginBottom": "20px",
                    "marginLeft": "20px",
                    "marginTop": "10px"
                  }
                },
                "type": "ia.container.flex"
              }
            ],
            "meta": {
              "name": "Monthly Peak Inputs Container"
            },
            "position": {
              "basis": "300px"
            },
            "props": {
              "direction": "column"
            },
            "type": "ia.container.flex"
          },
          {
            "children": [
              {
                "children": [
                  {
                    "children": [
                      {
                        "meta": {
                          "name": "FlexContainer_0"
                        },
                        "position": {
                          "basis": 300,
                          "grow": 1
                        },
                        "props": {
                          "direction": "column"
                        },
                        "type": "ia.container.flex"
                      },
                      {
                        "meta": {
                          "name": "Monthly Peak Label"
                        },
                        "position": {
                          "basis": "200px",
                          "grow": 1,
                          "shrink": 0
                        },
                        "props": {
                          "style": {
                            "classes": "All_Text/Header_Text",
                            "marginTop": "5px"
                          },
                          "text": "Monthly Peak",
                          "textStyle": {
                            "textAlign": "center"
                          }
                        },
                        "type": "ia.display.label"
                      },
                      {
                        "children": [
                          {
                            "meta": {
                              "name": "Label"
                            },
                            "position": {
                              "basis": "32px"
                            },
                            "props": {
                              "style": {
                                "classes": "All_Text/Base_Text"
                              },
                              "text": "Billing Cycle:",
                              "textStyle": {
                                "textAlign": "right"
                              }
                            },
                            "type": "ia.display.label"
                          },
                          {
                            "meta": {
                              "name": "Label_0"
                            },
                            "position": {
                              "basis": "32px"
                            },
                            "props": {
                              "style": {
                                "classes": "All_Text/Base_Text"
                              },
                              "text": "Reference Cycle:",
                              "textStyle": {
                                "textAlign": "right"
                              }
                            },
                            "type": "ia.display.label"
                          }
                        ],
                        "meta": {
                          "name": "FlexContainer"
                        },
                        "position": {
                          "basis": "100px",
                          "grow": 1,
                          "shrink": 0
                        },
                        "props": {
                          "direction": "column"
                        },
                        "type": "ia.container.flex"
                      },
                      {
                        "children": [
                          {
                            "meta": {
                              "name": "BillingMonth"
                            },
                            "position": {
                              "basis": "36px"
                            },
                            "props": {
                              "options": [
                                {
                                  "label": "January",
                                  "value": 1
                                },
                                {
                                  "label": "February",
                                  "value": 2
                                },
                                {
                                  "label": "March",
                                  "value": 3
                                },
                                {
                                  "label": "April",
                                  "value": 4
                                },
                                {
                                  "label": "May",
                                  "value": 5
                                },
                                {
                                  "label": "June",
                                  "value": 6
                                },
                                {
                                  "label": "July",
                                  "value": 7
                                },
                                {
                                  "label": "August",
                                  "value": 8
                                },
                                {
                                  "label": "September",
                                  "value": 9
                                },
                                {
                                  "label": "October",
                                  "value": 10
                                },
                                {
                                  "label": "November",
                                  "value": 11
                                },
                                {
                                  "label": "December",
                                  "value": 12
                                }
                              ],
                              "style": {
                                "classes": "Backgrounds/inputboxes",
                                "marginBottom": 5,
                                "marginRight": 15,
                                "marginTop": 5
                              },
                              "value": 10
                            },
                            "type": "ia.input.dropdown"
                          },
                          {
                            "meta": {
                              "name": "ReferenceCycle"
                            },
                            "position": {
                              "basis": "36px"
                            },
                            "propConfig": {
                              "props.value": {
                                "binding": {
                                  "config": {
                                    "bidirectional": true,
                                    "fallbackDelay": 2.5,
                                    "mode": "indirect",
                                    "references": {
                                      "companyTagPath": "{view.custom.companyTagPath}"
                                    },
                                    "tagPath": "{companyTagPath}/EnergyBill/LastReferenceMonth"
                                  },
                                  "type": "tag"
                                }
                              }
                            },
                            "props": {
                              "options": [
                                {
                                  "label": "January",
                                  "value": 1
                                },
                                {
                                  "label": "February",
                                  "value": 2
                                },
                                {
                                  "label": "March",
                                  "value": 3
                                },
                                {
                                  "label": "April",
                                  "value": 4
                                },
                                {
                                  "label": "May",
                                  "value": 5
                                },
                                {
                                  "label": "June",
                                  "value": 6
                                },
                                {
                                  "label": "July",
                                  "value": 7
                                },
                                {
                                  "label": "August",
                                  "value": 8
                                },
                                {
                                  "label": "September",
                                  "value": 9
                                },
                                {
                                  "label": "October",
                                  "value": 10
                                },
                                {
                                  "label": "November",
                                  "value": 11
                                },
                                {
                                  "label": "December",
                                  "value": 12
                                }
                              ],
                              "style": {
                                "classes": "Backgrounds/inputboxes",
                                "marginBottom": 5,
                                "marginRight": 15,
                                "marginTop": 5
                              }
                            },
                            "type": "ia.input.dropdown"
                          }
                        ],
                        "meta": {
                          "name": "FlexContainer_1"
                        },
                        "position": {
                          "basis": "100px",
                          "grow": 1,
                          "shrink": 0
                        },
                        "props": {
                          "direction": "column"
                        },
                        "type": "ia.container.flex"
                      }
                    ],
                    "meta": {
                      "name": "FlexContainer"
                    },
                    "position": {
                      "shrink": 0
                    },
                    "props": {
                      "justify": "space-between",
                      "wrap": "wrap"
                    },
                    "type": "ia.container.flex"
                  },
                  {
                    "custom": {
                      "peak": "32.9 kW"
                    },
                    "meta": {
                      "name": "Label"
                    },
                    "position": {
                      "basis": "32px",
                      "shrink": 0
                    },
                    "propConfig": {
                      "custom.peak": {
                        "binding": {
                          "config": {
                            "expression": "try(if({../Monthly Peak Chart.props.dataSources}[\u0027month-peak\u0027][0,1] \u003e 1000, \r\nnumberFormat({../Monthly Peak Chart.props.dataSources}[\u0027month-peak\u0027][0,1]/1000,\u0027#.0 kW\u0027), \r\nnumberFormat({../Monthly Peak Chart.props.dataSources}[\u0027month-peak\u0027][0,1],\u0027#.0 W\u0027)\r\n),0)"
                          },
                          "enabled": false,
                          "type": "expr"
                        }
                      },
                      "custom.peakV1": {
                        "binding": {
                          "config": {
                            "avoidScanClassValidation": true,
                            "calculations": [
                              "MinMax"
                            ],
                            "dateRange": {
                              "endDate": "now(0)",
                              "startDate": "dateArithmetic(now(0), -1, \u0027hour\u0027)"
                            },
                            "enableValueCache": true,
                            "ignoreBadQuality": false,
                            "preventInterpolation": false,
                            "returnFormat": "Calculations",
                            "tags": "{view.custom.tags.power[0].path}",
                            "valueFormat": "DATASET"
                          },
                          "type": "tag-history"
                        }
                      },
                      "props.text": {
                        "binding": {
                          "config": {
                            "expression": "\"Peak to Date: \"+{this.custom.peak}"
                          },
                          "type": "expr"
                        }
                      }
                    },
                    "props": {
                      "style": {
                        "classes": "All_Text/Base_Text"
                      },
                      "textStyle": {
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "meta": {
                      "name": "Monthly Peak Chart"
                    },
                    "position": {
                      "basis": "500px",
                      "grow": 1
                    },
                    "propConfig": {
                      "props.dataSources.expected-peak": {
                        "binding": {
                          "config": {
                            "path": "this.props.dataSources.power"
                          },
                          "overlayOptOut": true,
                          "transforms": [
                            {
                              "code": "\theaders \u003d [\"t_stamp\", \"max\"]\n\tdata \u003d []\n\t\n\t\n\tfor i in range(value.getRowCount()): \n\t\tdata.append([value.getValueAt(i,\u0027t_stamp\u0027), self.view.custom.settings[\u0027expected-peak-watts\u0027]])\n\t\n\treturn system.dataset.toDataSet(headers, data)",
                              "type": "script"
                            }
                          ],
                          "type": "property"
                        },
                        "persistent": true
                      },
                      "props.dataSources.max": {
                        "binding": {
                          "config": {
                            "path": "this.props.dataSources.power"
                          },
                          "overlayOptOut": true,
                          "transforms": [
                            {
                              "code": "\theaders \u003d [\"t_stamp\", \"max\"]\n\tdata \u003d []\n\t\n\t\n\tfor i in range(value.getRowCount()): \n\t\tdata.append([value.getValueAt(i,\u0027t_stamp\u0027), self.view.custom.settings[\u0027power-limit-watts\u0027]])\n\t\n\treturn system.dataset.toDataSet(headers, data)",
                              "type": "script"
                            }
                          ],
                          "type": "property"
                        },
                        "persistent": true
                      },
                      "props.dataSources.month-peak": {
                        "binding": {
                          "config": {
                            "path": "this.props.dataSources.power"
                          },
                          "overlayOptOut": true,
                          "transforms": [
                            {
                              "code": "\theaders \u003d [\"t_stamp\", \"peak\"]\n\tdata \u003d []\n\t\n\tpeak \u003d max(self.props.dataSources.power.getColumnAsList(1))\n\t\n\tfor i in range(value.getRowCount()): \n\t\tdata.append([value.getValueAt(i,\u0027t_stamp\u0027), peak])\n\t\n\treturn system.dataset.toDataSet(headers, data)",
                              "type": "script"
                            }
                          ],
                          "type": "property"
                        },
                        "persistent": true
                      },
                      "props.dataSources.other-power": {
                        "binding": {
                          "config": {
                            "aggregate": "SimpleAverage",
                            "avoidScanClassValidation": true,
                            "dateRange": {
                              "endDate": "addDays({view.custom.settings.start-time}, 31)",
                              "startDate": "{view.custom.settings.start-time}"
                            },
                            "enableValueCache": true,
                            "ignoreBadQuality": false,
                            "preventInterpolation": false,
                            "returnFormat": "Wide",
                            "returnSize": {
                              "numRows": "500",
                              "type": "FIXED"
                            },
                            "tags": "{view.custom.tags.other-power[0].path}",
                            "valueFormat": "DATASET"
                          },
                          "overlayOptOut": true,
                          "type": "tag-history"
                        },
                        "persistent": false
                      },
                      "props.dataSources.power": {
                        "binding": {
                          "config": {
                            "aggregate": "SimpleAverage",
                            "avoidScanClassValidation": true,
                            "dateRange": {
                              "endDate": "addDays({view.custom.settings.start-time}, 31)",
                              "startDate": "{view.custom.settings.start-time}"
                            },
                            "enableValueCache": true,
                            "ignoreBadQuality": false,
                            "preventInterpolation": false,
                            "returnFormat": "Wide",
                            "returnSize": {
                              "numRows": "1000",
                              "type": "FIXED"
                            },
                            "tags": "{view.custom.tags.power[0].path}",
                            "valueFormat": "DATASET"
                          },
                          "overlayOptOut": true,
                          "type": "tag-history"
                        },
                        "persistent": false
                      },
                      "props.dataSources.ref-power": {
                        "binding": {
                          "config": {
                            "aggregate": "SimpleAverage",
                            "avoidScanClassValidation": true,
                            "dateRange": {
                              "endDate": "addDays({view.custom.settings.ref-time}, 31)",
                              "startDate": "{view.custom.settings.ref-time}"
                            },
                            "enableValueCache": true,
                            "ignoreBadQuality": false,
                            "preventInterpolation": false,
                            "returnFormat": "Wide",
                            "returnSize": {
                              "numRows": "500",
                              "type": "FIXED"
                            },
                            "tags": "{view.custom.tags.power}",
                            "valueFormat": "DATASET"
                          },
                          "overlayOptOut": true,
                          "type": "tag-history"
                        },
                        "persistent": false
                      },
                      "props.legend.position": {
                        "binding": {
                          "config": {
                            "expression": "if({page.props.dimensions.screen.width} \u003c 1000, \"bottom\", \"right\")"
                          },
                          "type": "expr"
                        }
                      }
                    },
                    "props": {
                      "cursor": {
                        "series": "Main Power"
                      },
                      "dataSources": {
                        "expected-peak": null,
                        "max": null,
                        "month-peak": null
                      },
                      "legend": {
                        "labels": {
                          "font": {
                            "size": 12
                          }
                        }
                      },
                      "series": [
                        {
                          "candlestick": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              }
                            },
                            "high": {
                              "x": "",
                              "y": ""
                            },
                            "low": {
                              "x": "",
                              "y": ""
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "column": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "height": null,
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              },
                              "width": null
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "data": {
                            "source": "power",
                            "x": "t_stamp",
                            "y": "power"
                          },
                          "defaultState": {
                            "visible": true
                          },
                          "hiddenInLegend": false,
                          "label": {
                            "text": "Main Power"
                          },
                          "line": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": false,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "#47BCD7",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 1.5
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "name": "Main Power",
                          "render": "line",
                          "stepLine": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": true,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 3
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": "{name}: [bold]{valueY}[/]"
                          },
                          "visible": true,
                          "xAxis": "time",
                          "yAxis": "power",
                          "zIndex": 0
                        },
                        {
                          "candlestick": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              }
                            },
                            "high": {
                              "x": "",
                              "y": ""
                            },
                            "low": {
                              "x": "",
                              "y": ""
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "column": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "height": null,
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              },
                              "width": null
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "data": {
                            "source": "ref-power",
                            "x": "t_stamp",
                            "y": "power"
                          },
                          "defaultState": {
                            "visible": true
                          },
                          "hiddenInLegend": false,
                          "label": {
                            "text": "Main Power Refrence"
                          },
                          "line": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": false,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "#000F5D",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "#000F5D",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 1.5
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "name": "Main Power Reference",
                          "render": "line",
                          "stepLine": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": true,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 3
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": "{name}: [bold]{valueY}[/]"
                          },
                          "visible": true,
                          "xAxis": "time-ref",
                          "yAxis": "power",
                          "zIndex": 0
                        },
                        {
                          "candlestick": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              }
                            },
                            "high": {
                              "x": "",
                              "y": ""
                            },
                            "low": {
                              "x": "",
                              "y": ""
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "column": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "height": null,
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              },
                              "width": null
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "data": {
                            "source": "other-power",
                            "x": "t_stamp",
                            "y": "other-power"
                          },
                          "defaultState": {
                            "visible": true
                          },
                          "hiddenInLegend": false,
                          "label": {
                            "text": "Other Power"
                          },
                          "line": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": false,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "#000F5D",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "#498E43",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 1.5
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "name": "Other Device Power",
                          "render": "line",
                          "stepLine": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": true,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 3
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": "{name}: [bold]{valueY}[/]"
                          },
                          "visible": true,
                          "xAxis": "time",
                          "yAxis": "power",
                          "zIndex": 0
                        },
                        {
                          "candlestick": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              }
                            },
                            "high": {
                              "x": "",
                              "y": ""
                            },
                            "low": {
                              "x": "",
                              "y": ""
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "column": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "height": null,
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              },
                              "width": null
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "data": {
                            "source": "month-peak",
                            "x": "t_stamp",
                            "y": "peak"
                          },
                          "defaultState": {
                            "visible": true
                          },
                          "hiddenInLegend": false,
                          "label": {
                            "text": "Monthly Peak To Date"
                          },
                          "line": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": false,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "#C80909",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 1.5
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "name": "monthly peak",
                          "render": "line",
                          "stepLine": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": true,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 3
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": "{name}: [bold]{valueY}[/]"
                          },
                          "visible": true,
                          "xAxis": "time",
                          "yAxis": "power",
                          "zIndex": 0
                        },
                        {
                          "candlestick": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              }
                            },
                            "high": {
                              "x": "",
                              "y": ""
                            },
                            "low": {
                              "x": "",
                              "y": ""
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "column": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "height": null,
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              },
                              "width": null
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "data": {
                            "source": "expected-peak",
                            "x": "t_stamp",
                            "y": "max"
                          },
                          "defaultState": {
                            "visible": true
                          },
                          "hiddenInLegend": false,
                          "label": {
                            "text": "Expected Monthly Peak"
                          },
                          "line": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": false,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "#D49E0F",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 1.5
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "name": "expected monthly peak",
                          "render": "line",
                          "stepLine": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": true,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 3
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": "{name}: [bold]{valueY}[/]"
                          },
                          "visible": true,
                          "xAxis": "time",
                          "yAxis": "power",
                          "zIndex": 0
                        },
                        {
                          "candlestick": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              }
                            },
                            "high": {
                              "x": "",
                              "y": ""
                            },
                            "low": {
                              "x": "",
                              "y": ""
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "column": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "height": null,
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              },
                              "width": null
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "data": {
                            "source": "max",
                            "x": "t_stamp",
                            "y": "max"
                          },
                          "defaultState": {
                            "visible": true
                          },
                          "hiddenInLegend": false,
                          "label": {
                            "text": "High Power Threshold"
                          },
                          "line": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": false,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "#A4A4A4",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 1.5
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "name": "high power threshold",
                          "render": "line",
                          "stepLine": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": true,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 3
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": "{name}: [bold]{valueY}[/]"
                          },
                          "visible": true,
                          "xAxis": "time",
                          "yAxis": "power",
                          "zIndex": 0
                        }
                      ],
                      "style": {
                        "classes": "All_Text/Base_Text"
                      },
                      "xAxes": [
                        {
                          "appearance": {
                            "font": {
                              "size": "",
                              "weight": 500
                            },
                            "grid": {
                              "color": "#D3D3D3",
                              "dashArray": "",
                              "minDistance": 30,
                              "opacity": 0.5,
                              "position": 0.5
                            },
                            "inside": false,
                            "labels": {
                              "color": "",
                              "horizontalCenter": "middle",
                              "opacity": 1,
                              "rotation": 0,
                              "verticalCenter": "middle"
                            },
                            "opposite": false
                          },
                          "category": {
                            "break": {
                              "enabled": false,
                              "endCategory": "",
                              "size": 0.05,
                              "startCategory": ""
                            }
                          },
                          "date": {
                            "baseInterval": {
                              "count": 1,
                              "enabled": false,
                              "skipEmptyPeriods": false,
                              "timeUnit": "hour"
                            },
                            "break": {
                              "enabled": false,
                              "endDate": "",
                              "size": 0.05,
                              "startDate": ""
                            },
                            "format": "d",
                            "inputFormat": "yyyy-MM-dd kk:mm:ss",
                            "range": {
                              "max": "",
                              "min": "",
                              "useStrict": false
                            }
                          },
                          "inversed": false,
                          "label": {
                            "color": "",
                            "enabled": true,
                            "text": "Days in Billing Cycle"
                          },
                          "name": "time",
                          "render": "date",
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": ""
                          },
                          "value": {
                            "break": {
                              "enabled": false,
                              "endValue": 100,
                              "size": 0.05,
                              "startValue": 0
                            },
                            "format": "#,###.##",
                            "logarithmic": false,
                            "range": {
                              "max": "",
                              "min": "",
                              "useStrict": false
                            }
                          },
                          "visible": true
                        },
                        {
                          "appearance": {
                            "font": {
                              "size": "",
                              "weight": 500
                            },
                            "grid": {
                              "color": "#D3D3D3",
                              "dashArray": "",
                              "minDistance": 60,
                              "opacity": 0.5,
                              "position": 0.5
                            },
                            "inside": false,
                            "labels": {
                              "color": "",
                              "horizontalCenter": "middle",
                              "opacity": 1,
                              "rotation": 0,
                              "verticalCenter": "middle"
                            },
                            "opposite": false
                          },
                          "category": {
                            "break": {
                              "enabled": false,
                              "endCategory": "",
                              "size": 0.05,
                              "startCategory": ""
                            }
                          },
                          "date": {
                            "baseInterval": {
                              "count": 1,
                              "enabled": false,
                              "skipEmptyPeriods": false,
                              "timeUnit": "hour"
                            },
                            "break": {
                              "enabled": false,
                              "endDate": "",
                              "size": 0.05,
                              "startDate": ""
                            },
                            "format": "M/d",
                            "inputFormat": "yyyy-MM-dd kk:mm:ss",
                            "range": {
                              "max": "",
                              "min": "",
                              "useStrict": false
                            }
                          },
                          "inversed": false,
                          "label": {
                            "color": "",
                            "enabled": true,
                            "text": "Days in Billing Cycle"
                          },
                          "name": "time-ref",
                          "render": "date",
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": false,
                            "pointerLength": 4,
                            "text": ""
                          },
                          "value": {
                            "break": {
                              "enabled": false,
                              "endValue": 100,
                              "size": 0.05,
                              "startValue": 0
                            },
                            "format": "#,###.##",
                            "logarithmic": false,
                            "range": {
                              "max": "",
                              "min": "",
                              "useStrict": false
                            }
                          },
                          "visible": false
                        }
                      ],
                      "yAxes": [
                        {
                          "appearance": {
                            "font": {
                              "size": "",
                              "weight": 500
                            },
                            "grid": {
                              "color": "#D3D3D3",
                              "dashArray": "",
                              "minDistance": null,
                              "opacity": 0.5,
                              "position": 0.5
                            },
                            "inside": false,
                            "labels": {
                              "color": "",
                              "horizontalCenter": "middle",
                              "opacity": 1,
                              "rotation": 0,
                              "verticalCenter": "middle"
                            },
                            "opposite": false
                          },
                          "category": {
                            "break": {
                              "enabled": false,
                              "endCategory": "",
                              "size": 0.05,
                              "startCategory": ""
                            }
                          },
                          "date": {
                            "baseInterval": {
                              "count": 1,
                              "enabled": false,
                              "skipEmptyPeriods": false,
                              "timeUnit": "hour"
                            },
                            "break": {
                              "enabled": false,
                              "endDate": "",
                              "size": 0.05,
                              "startDate": ""
                            },
                            "format": "M/d/yyyy HH:mm:ss",
                            "inputFormat": "yyyy-MM-dd kk:mm:ss",
                            "range": {
                              "max": "",
                              "min": "",
                              "useStrict": false
                            }
                          },
                          "inversed": false,
                          "label": {
                            "color": "",
                            "enabled": true,
                            "text": "Average Power (W)"
                          },
                          "name": "power",
                          "render": "value",
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": ""
                          },
                          "value": {
                            "break": {
                              "enabled": false,
                              "endValue": 100,
                              "size": 0.05,
                              "startValue": 0
                            },
                            "format": "#.0a",
                            "logarithmic": false,
                            "range": {
                              "max": "",
                              "min": "",
                              "useStrict": false
                            }
                          },
                          "visible": true
                        }
                      ]
                    },
                    "type": "ia.chart.xy"
                  }
                ],
                "meta": {
                  "name": "Monthly Peak Chart Container"
                },
                "position": {
                  "grow": 3
                },
                "props": {
                  "direction": "column",
                  "style": {
                    "backgroundColor": "#FFFFFF",
                    "borderBottomLeftRadius": "15px",
                    "borderBottomRightRadius": "15px",
                    "borderStyle": "none",
                    "borderTopLeftRadius": "15px",
                    "borderTopRightRadius": "15px",
                    "marginBottom": "20px",
                    "marginLeft": "20px",
                    "marginRight": "20px",
                    "marginTop": "20px",
                    "overflowY": "hidden"
                  }
                },
                "type": "ia.container.flex"
              },
              {
                "children": [
                  {
                    "meta": {
                      "name": "Power Factor Label"
                    },
                    "position": {
                      "basis": "32px"
                    },
                    "props": {
                      "style": {
                        "classes": "All_Text/Header_Text",
                        "marginTop": "5px"
                      },
                      "text": "Power Factor",
                      "textStyle": {
                        "textAlign": "center"
                      }
                    },
                    "type": "ia.display.label"
                  },
                  {
                    "meta": {
                      "name": "Power Factor Chart"
                    },
                    "position": {
                      "basis": "375px",
                      "grow": 1
                    },
                    "propConfig": {
                      "props.dataSources.max": {
                        "binding": {
                          "config": {
                            "path": "this.props.dataSources.power-factor"
                          },
                          "overlayOptOut": true,
                          "transforms": [
                            {
                              "code": "\theaders \u003d [\"t_stamp\", \"max\"]\n\tdata \u003d []\n\t\n\t\n\tfor i in range(value.getRowCount()): \n\t\tdata.append([value.getValueAt(i,\u0027t_stamp\u0027), self.view.custom.settings[\u0027power-factor-limit\u0027]])\n\t\n\treturn system.dataset.toDataSet(headers, data)",
                              "type": "script"
                            }
                          ],
                          "type": "property"
                        },
                        "persistent": true
                      },
                      "props.dataSources.power-factor": {
                        "binding": {
                          "config": {
                            "aggregate": "SimpleAverage",
                            "avoidScanClassValidation": true,
                            "dateRange": {
                              "endDate": "addDays({view.custom.settings.start-time}, 31)",
                              "startDate": "{view.custom.settings.start-time}"
                            },
                            "enableValueCache": true,
                            "ignoreBadQuality": false,
                            "preventInterpolation": false,
                            "returnFormat": "Wide",
                            "returnSize": {
                              "numRows": "500",
                              "type": "FIXED"
                            },
                            "tags": "{view.custom.tags.power-factor[0].path}",
                            "valueFormat": "DATASET"
                          },
                          "overlayOptOut": true,
                          "type": "tag-history"
                        },
                        "persistent": true
                      },
                      "props.legend.position": {
                        "binding": {
                          "config": {
                            "expression": "if({page.props.dimensions.screen.width} \u003c 1000, \"bottom\", \"right\")"
                          },
                          "type": "expr"
                        }
                      }
                    },
                    "props": {
                      "cursor": {
                        "series": "power factor"
                      },
                      "dataSources": {
                        "max": null,
                        "power-factor": null
                      },
                      "legend": {
                        "labels": {
                          "font": {
                            "size": 12
                          }
                        }
                      },
                      "series": [
                        {
                          "candlestick": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              }
                            },
                            "high": {
                              "x": "",
                              "y": ""
                            },
                            "low": {
                              "x": "",
                              "y": ""
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "column": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "height": null,
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              },
                              "width": null
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "data": {
                            "source": "power-factor",
                            "x": "t_stamp",
                            "y": "power-factor"
                          },
                          "defaultState": {
                            "visible": true
                          },
                          "hiddenInLegend": false,
                          "label": {
                            "text": "Power Factor"
                          },
                          "line": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": false,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "#000F5D",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 1.5
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "name": "power factor",
                          "render": "line",
                          "stepLine": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": true,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 3
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": "{name}: [bold]{valueY}[/]"
                          },
                          "visible": true,
                          "xAxis": "time",
                          "yAxis": "power factor",
                          "zIndex": 0
                        },
                        {
                          "candlestick": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              }
                            },
                            "high": {
                              "x": "",
                              "y": ""
                            },
                            "low": {
                              "x": "",
                              "y": ""
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "column": {
                            "appearance": {
                              "deriveFieldsFromData": {
                                "fill": {
                                  "color": "",
                                  "opacity": ""
                                },
                                "stroke": {
                                  "color": "",
                                  "opacity": "",
                                  "width": ""
                                }
                              },
                              "fill": {
                                "color": "",
                                "opacity": 1
                              },
                              "heatRules": {
                                "dataField": "",
                                "enabled": false,
                                "max": "",
                                "min": ""
                              },
                              "height": null,
                              "stacked": false,
                              "stroke": {
                                "color": "",
                                "opacity": 1,
                                "width": 1
                              },
                              "width": null
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "data": {
                            "source": "max",
                            "x": "t_stamp",
                            "y": "max"
                          },
                          "defaultState": {
                            "visible": true
                          },
                          "hiddenInLegend": false,
                          "label": {
                            "text": "Power Factor Threshold"
                          },
                          "line": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": false,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "#A4A4A4",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 1.5
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "name": "threshold",
                          "render": "line",
                          "stepLine": {
                            "appearance": {
                              "bullets": [
                                {
                                  "deriveFieldsFromData": {
                                    "fill": {
                                      "color": "",
                                      "opacity": ""
                                    },
                                    "rotation": "",
                                    "stroke": {
                                      "color": "",
                                      "opacity": "",
                                      "width": ""
                                    }
                                  },
                                  "enabled": true,
                                  "fill": {
                                    "color": "",
                                    "opacity": 1
                                  },
                                  "heatRules": {
                                    "dataField": "",
                                    "enabled": false,
                                    "max": 100,
                                    "min": 2
                                  },
                                  "height": 10,
                                  "label": {
                                    "position": {
                                      "dx": 0,
                                      "dy": 0
                                    },
                                    "text": "{value}"
                                  },
                                  "render": "circle",
                                  "rotation": 0,
                                  "stroke": {
                                    "color": "",
                                    "opacity": 1,
                                    "width": 1
                                  },
                                  "tooltip": {
                                    "background": {
                                      "color": "",
                                      "opacity": 1
                                    },
                                    "cornerRadius": 3,
                                    "enabled": true,
                                    "pointerLength": 4,
                                    "text": "{name}: [bold]{valueY}[/]"
                                  },
                                  "width": 10
                                }
                              ],
                              "connect": true,
                              "fill": {
                                "color": "",
                                "opacity": 0
                              },
                              "minDistance": 0.5,
                              "stroke": {
                                "color": "",
                                "dashArray": "",
                                "opacity": 1,
                                "width": 3
                              },
                              "tensionX": 1,
                              "tensionY": 1
                            },
                            "open": {
                              "x": "",
                              "y": ""
                            }
                          },
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": "{name}: [bold]{valueY}[/]"
                          },
                          "visible": true,
                          "xAxis": "time",
                          "yAxis": "power factor",
                          "zIndex": 0
                        }
                      ],
                      "style": {
                        "classes": "All_Text/Base_Text"
                      },
                      "xAxes": [
                        {
                          "appearance": {
                            "font": {
                              "size": "",
                              "weight": 500
                            },
                            "grid": {
                              "color": "#D3D3D3",
                              "dashArray": "",
                              "minDistance": 30,
                              "opacity": 0.5,
                              "position": 0.5
                            },
                            "inside": false,
                            "labels": {
                              "color": "",
                              "horizontalCenter": "middle",
                              "opacity": 1,
                              "rotation": 0,
                              "verticalCenter": "middle"
                            },
                            "opposite": false
                          },
                          "category": {
                            "break": {
                              "enabled": false,
                              "endCategory": "",
                              "size": 0.05,
                              "startCategory": ""
                            }
                          },
                          "date": {
                            "baseInterval": {
                              "count": 1,
                              "enabled": false,
                              "skipEmptyPeriods": false,
                              "timeUnit": "hour"
                            },
                            "break": {
                              "enabled": false,
                              "endDate": "",
                              "size": 0.05,
                              "startDate": ""
                            },
                            "format": "d",
                            "inputFormat": "yyyy-MM-dd kk:mm:ss",
                            "range": {
                              "max": "",
                              "min": "",
                              "useStrict": false
                            }
                          },
                          "inversed": false,
                          "label": {
                            "color": "",
                            "enabled": true,
                            "text": "Days in Billing Cycle"
                          },
                          "name": "time",
                          "render": "date",
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": ""
                          },
                          "value": {
                            "break": {
                              "enabled": false,
                              "endValue": 100,
                              "size": 0.05,
                              "startValue": 0
                            },
                            "format": "#,###.##",
                            "logarithmic": false,
                            "range": {
                              "max": "",
                              "min": "",
                              "useStrict": false
                            }
                          },
                          "visible": true
                        }
                      ],
                      "yAxes": [
                        {
                          "appearance": {
                            "font": {
                              "size": "",
                              "weight": 500
                            },
                            "grid": {
                              "color": "#D3D3D3",
                              "dashArray": "",
                              "minDistance": null,
                              "opacity": 0.5,
                              "position": 0.5
                            },
                            "inside": false,
                            "labels": {
                              "color": "",
                              "horizontalCenter": "middle",
                              "opacity": 1,
                              "rotation": 0,
                              "verticalCenter": "middle"
                            },
                            "opposite": false
                          },
                          "category": {
                            "break": {
                              "enabled": false,
                              "endCategory": "",
                              "size": 0.05,
                              "startCategory": ""
                            }
                          },
                          "date": {
                            "baseInterval": {
                              "count": 1,
                              "enabled": false,
                              "skipEmptyPeriods": false,
                              "timeUnit": "hour"
                            },
                            "break": {
                              "enabled": false,
                              "endDate": "",
                              "size": 0.05,
                              "startDate": ""
                            },
                            "format": "M/d/yyyy HH:mm:ss",
                            "inputFormat": "yyyy-MM-dd kk:mm:ss",
                            "range": {
                              "max": "",
                              "min": "",
                              "useStrict": false
                            }
                          },
                          "inversed": false,
                          "label": {
                            "color": "",
                            "enabled": true,
                            "text": "Power Factor"
                          },
                          "name": "power factor",
                          "render": "value",
                          "tooltip": {
                            "background": {
                              "color": "",
                              "opacity": 1
                            },
                            "cornerRadius": 3,
                            "enabled": true,
                            "pointerLength": 4,
                            "text": ""
                          },
                          "value": {
                            "break": {
                              "enabled": false,
                              "endValue": 100,
                              "size": 0.05,
                              "startValue": 0
                            },
                            "format": "#,###.##",
                            "logarithmic": false,
                            "range": {
                              "max": 1,
                              "min": 0,
                              "useStrict": false
                            }
                          },
                          "visible": true
                        }
                      ]
                    },
                    "type": "ia.chart.xy"
                  }
                ],
                "meta": {
                  "name": "Power Factor Chart Container"
                },
                "position": {
                  "basis": "500px",
                  "grow": 1
                },
                "props": {
                  "alignItems": "center",
                  "direction": "column",
                  "style": {
                    "backgroundColor": "#FFFFFF",
                    "borderBottomLeftRadius": 15,
                    "borderBottomRightRadius": 15,
                    "borderStyle": "none",
                    "borderTopLeftRadius": 15,
                    "borderTopRightRadius": 15,
                    "marginBottom": "20px",
                    "marginLeft": "20px",
                    "marginRight": "20px",
                    "overflowY": "hidden"
                  }
                },
                "type": "ia.container.flex"
              }
            ],
            "meta": {
              "name": "Charts Container"
            },
            "position": {
              "basis": "200px",
              "grow": 1
            },
            "propConfig": {
              "position.display": {
                "binding": {
                  "config": {
                    "expression": "{../Monthly Peak Inputs Container/Select EMU Container/Main Power Device DropDown.props.value} !\u003d null \u0026\u0026\r\n{../Monthly Peak Inputs Container/Select EMU Container/Main Power Device DropDown_0.props.value} !\u003d null  "
                  },
                  "enabled": false,
                  "type": "expr"
                }
              }
            },
            "props": {
              "direction": "column",
              "wrap": "wrap"
            },
            "type": "ia.container.flex"
          }
        ],
        "meta": {
          "name": "Monthly Peak Container"
        },
        "position": {
          "basis": "200px",
          "grow": 1
        },
        "props": {
          "wrap": "wrap"
        },
        "type": "ia.container.flex"
      }
    ],
    "meta": {
      "name": "root"
    },
    "props": {
      "direction": "column",
      "style": {
        "classes": "Backgrounds/BackgroundBackground"
      }
    },
    "type": "ia.container.flex"
  }
}